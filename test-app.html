<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test App Loading</title>
  <script type="module">
    // Test if the application loads without errors
    console.log('üîç Testing Route Plotter v3 loading...');
    
    // Check if app initializes
    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        if (window.app) {
          console.log('‚úÖ App initialized successfully!');
          console.log('App object:', window.app);
          
          // Check key components
          if (window.app.eventBus) console.log('‚úÖ EventBus loaded');
          if (window.app.pathCalculator) console.log('‚úÖ PathCalculator loaded');
          if (window.app.animationEngine) console.log('‚úÖ AnimationEngine loaded');
          if (window.app.renderingService) console.log('‚úÖ RenderingService loaded');
          if (window.app.uiController) console.log('‚úÖ UIController loaded');
          if (window.app.interactionHandler) console.log('‚úÖ InteractionHandler loaded');
          
          // Test loading default image
          if (window.app.background && !window.app.background.image) {
            console.log('‚ö†Ô∏è No background image loaded');
            console.log('Loading default image...');
            window.app.loadDefaultImage();
          }
          
          // Test waypoint functionality
          console.log('Current waypoints:', window.app.waypoints?.length || 0);
        } else {
          console.error('‚ùå App failed to initialize!');
        }
      }, 1000);
    });
    
    // Catch any errors
    window.addEventListener('error', (e) => {
      console.error('‚ùå JavaScript Error:', e.message, 'at', e.filename, ':', e.lineno);
    });
  </script>
</head>
<body>
  <h1>Test App Loading</h1>
  <p>Check the console for test results.</p>
  <p><a href="index.html">Go to main app</a></p>
  <iframe src="index.html" width="100%" height="600" style="border: 1px solid #ccc;"></iframe>
</body>
</html>
